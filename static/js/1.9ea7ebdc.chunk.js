(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{170:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return o}));var n=r(158),s=r(159),a=(r(265),r(266)),i=r.n(a),u=r(361),c=r.n(u),o=function(){function t(){Object(n.a)(this,t)}return Object(s.a)(t,null,[{key:"getSexText",value:function(e){return"F"===e?"\u5973":"M"===e?"\u7537":"\u5176\u4ed6"}},{key:"isLoged",value:function(){return e.token&&e.token.length>0}},{key:"isValidMobile",value:function(e){return!!/^((\+)?86|((\+)?86)?)0?1[0-9]\d{9}$/.test(e)}},{key:"isEmptyObj",value:function(e){return void 0==e||("string"===typeof e&&0==e.length||"object"===typeof e&&0==Object.keys(e).length)}},{key:"drawCanvas",value:function(e){var t=window.getComputedStyle(e),r=parseInt(t.width,10),n=parseInt(t.height,10),s=1;window.devicePixelRatio&&window.devicePixelRatio>1&&(s=window.devicePixelRatio);var a=s,i=document.createElement("canvas");return i.width=r*a,i.height=n*a,i.style.width="".concat(r,"px"),i.style.height="".concat(n,"px"),i.getContext("2d").scale(a,a),c()(e,{allowTaint:!0,width:r,height:n,useCORS:!0}).then((function(e){return e.toDataURL("image/png")}))}},{key:"safeValueForkey",value:function(e,t,r){return e&&e[t]?e[t]:r}},{key:"encodeBase64",value:function(e){var t,r,n,s,a,i,u,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="",l=0;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e);l<e.length;)s=(t=e.charCodeAt(l++))>>2,a=(3&t)<<4|(r=e.charCodeAt(l++))>>4,i=(15&r)<<2|(n=e.charCodeAt(l++))>>6,u=63&n,isNaN(r)?i=u=64:isNaN(n)&&(u=64),o=o+c.charAt(s)+c.charAt(a)+c.charAt(i)+c.charAt(u);return o}},{key:"uuid",value:function(){for(var e=[],t="0123456789abcdef",r=0;r<36;r++)e[r]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var n=e.join("")+(new Date).getTime();return n}},{key:"parseQueryParam",value:function(e){var t={};if(!e||"string"!=typeof e)return t;var r=e.split("?");return r.length<2||r[1].split("&").forEach((function(e){var r=e.split("=")[0],n=decodeURIComponent(e.split("=")[1]);t[r]=n})),t}},{key:"seriesQueryParam",value:function(e){var t="";if(e){var r=[];Object.keys(e).forEach((function(t){e[t]&&r.push(t+"="+encodeURIComponent(e[t]))})),t=r.join("&")}return t}},{key:"md5String",value:function(e){return i.a.MD5(e).toString()}},{key:"isValidCodeValid",value:function(e){var t,r=new Array({pass:!0,tip:""},{pass:!1,tip:"\u8eab\u4efd\u8bc1\u53f7\u7801\u4f4d\u6570\u4e0d\u5bf9\uff01"},{pass:!1,tip:"\u8eab\u4efd\u8bc1\u53f7\u7801\u51fa\u751f\u65e5\u671f\u8d85\u51fa\u8303\u56f4\u6216\u542b\u6709\u975e\u6cd5\u5b57\u7b26\uff01"},{pass:!1,tip:"\u8eab\u4efd\u8bc1\u53f7\u7801\u6821\u9a8c\u9519\u8bef\uff01"},{pass:!1,tip:"\u8eab\u4efd\u8bc1\u53f7\u7801\u4e2d\u5730\u533a\u7f16\u7801\u4e0d\u6b63\u786e\uff01"}),n=new Array;if(n=e.split(""),15!=e.length&&18!=e.length)return r[1];if("000000"==e.substr(0,6)||"111111"==e.substr(0,6)||"222222"==e.substr(0,6)||"333333"==e.substr(0,6)||"444444"==e.substr(0,6)||"555555"==e.substr(0,6)||"666666"==e.substr(0,6)||"777777"==e.substr(0,6)||"888888"==e.substr(0,6)||"999999"==e.substr(0,6))return r[4];if("123456"==e.substr(0,6)||"234567"==e.substr(0,6)||"345678"==e.substr(0,6)||"456789"==e.substr(0,6)||"567890"==e.substr(0,6)||"012345"==e.substr(0,6)||"543210"==e.substr(0,6)||"432109"==e.substr(0,6)||"321098"==e.substr(0,6)||"210987"==e.substr(0,6)||"109876"==e.substr(0,6)||"098765"==e.substr(0,6)||"987654"==e.substr(0,6)||"876543"==e.substr(0,6)||"765432"==e.substr(0,6))return r[4];if("121212"==e.substr(0,6)||"131313"==e.substr(0,6)||"141414"==e.substr(0,6)||"151515"==e.substr(0,6)||"161616"==e.substr(0,6)||"171717"==e.substr(0,6)||"181818"==e.substr(0,6)||"191919"==e.substr(0,6)||"101010"==e.substr(0,6))return r[4];if("212121"==e.substr(0,6)||"232323"==e.substr(0,6)||"242424"==e.substr(0,6)||"252525"==e.substr(0,6)||"262626"==e.substr(0,6)||"272727"==e.substr(0,6)||"282828"==e.substr(0,6)||"292929"==e.substr(0,6)||"202020"==e.substr(0,6))return r[4];if("313131"==e.substr(0,6)||"323232"==e.substr(0,6)||"343434"==e.substr(0,6)||"353535"==e.substr(0,6)||"363636"==e.substr(0,6)||"373737"==e.substr(0,6)||"383838"==e.substr(0,6)||"393939"==e.substr(0,6)||"303030"==e.substr(0,6))return r[4];if("414141"==e.substr(0,6)||"424242"==e.substr(0,6)||"434343"==e.substr(0,6)||"454545"==e.substr(0,6)||"464646"==e.substr(0,6)||"474747"==e.substr(0,6)||"484848"==e.substr(0,6)||"494949"==e.substr(0,6)||"404040"==e.substr(0,6))return r[4];if("515151"==e.substr(0,6)||"525252"==e.substr(0,6)||"535353"==e.substr(0,6)||"545454"==e.substr(0,6)||"565656"==e.substr(0,6)||"575757"==e.substr(0,6)||"585858"==e.substr(0,6)||"595959"==e.substr(0,6)||"505050"==e.substr(0,6))return r[4];if("616161"==e.substr(0,6)||"626262"==e.substr(0,6)||"636363"==e.substr(0,6)||"646464"==e.substr(0,6)||"656565"==e.substr(0,6)||"676767"==e.substr(0,6)||"686868"==e.substr(0,6)||"696969"==e.substr(0,6)||"606060"==e.substr(0,6))return r[4];if("717171"==e.substr(0,6)||"727272"==e.substr(0,6)||"737373"==e.substr(0,6)||"747474"==e.substr(0,6)||"757575"==e.substr(0,6)||"767676"==e.substr(0,6)||"787878"==e.substr(0,6)||"797979"==e.substr(0,6)||"707070"==e.substr(0,6))return r[4];if("818181"==e.substr(0,6)||"828282"==e.substr(0,6)||"838383"==e.substr(0,6)||"848484"==e.substr(0,6)||"858585"==e.substr(0,6)||"868686"==e.substr(0,6)||"878787"==e.substr(0,6)||"898989"==e.substr(0,6)||"808080"==e.substr(0,6))return r[4];if("919191"==e.substr(0,6)||"929292"==e.substr(0,6)||"939393"==e.substr(0,6)||"949494"==e.substr(0,6)||"959595"==e.substr(0,6)||"969696"==e.substr(0,6)||"979797"==e.substr(0,6)||"989898"==e.substr(0,6)||"909090"==e.substr(0,6))return r[4];if(null=={11:"\u5317\u4eac",12:"\u5929\u6d25",13:"\u6cb3\u5317",14:"\u5c71\u897f",15:"\u5185\u8499\u53e4",21:"\u8fbd\u5b81",22:"\u5409\u6797",23:"\u9ed1\u9f99\u6c5f",31:"\u4e0a\u6d77",32:"\u6c5f\u82cf",33:"\u6d59\u6c5f",34:"\u5b89\u5fbd",35:"\u798f\u5efa",36:"\u6c5f\u897f",37:"\u5c71\u4e1c",41:"\u6cb3\u5357",42:"\u6e56\u5317",43:"\u6e56\u5357",44:"\u5e7f\u4e1c",45:"\u5e7f\u897f",46:"\u6d77\u5357",50:"\u91cd\u5e86",51:"\u56db\u5ddd",52:"\u8d35\u5dde",53:"\u4e91\u5357",54:"\u897f\u85cf",61:"\u9655\u897f",62:"\u7518\u8083",63:"\u9752\u6d77",64:"\u5b81\u590f",65:"\u65b0\u7586",71:"\u53f0\u6e7e",81:"\u9999\u6e2f",82:"\u6fb3\u95e8",91:"\u56fd\u5916"}[parseInt(e.substr(0,2))])return r[4];switch(e.length){case 15:return((parseInt(e.substr(6,2))+1900)%4==0||(parseInt(e.substr(6,2))+1900)%100==0&&(parseInt(e.substr(6,2))+1900)%4==0?/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/).test(e)?r[0]:r[2];case 18:return(parseInt(e.substr(6,4))%4==0||parseInt(e.substr(6,4))%100==0&&parseInt(e.substr(6,4))%4==0?/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/).test(e)?(t=7*(parseInt(n[0])+parseInt(n[10]))+9*(parseInt(n[1])+parseInt(n[11]))+10*(parseInt(n[2])+parseInt(n[12]))+5*(parseInt(n[3])+parseInt(n[13]))+8*(parseInt(n[4])+parseInt(n[14]))+4*(parseInt(n[5])+parseInt(n[15]))+2*(parseInt(n[6])+parseInt(n[16]))+1*parseInt(n[7])+6*parseInt(n[8])+3*parseInt(n[9]),"F","10X98765432","10X98765432".substr(t%11,1)==n[17]?r[0]:r[3]):r[2];default:return r[1]}}}]),t}();o.filterParams=function(e){for(var t in e)(!e[t]&&0!==e[t]||""===e[t].toString().replace(/(^\s*)|(\s*$)/g,""))&&delete e[t];return e},o.isWeiXin=function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}}).call(this,r(18))},248:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(158),s=r(159),a=function(){function e(){Object(n.a)(this,e)}return Object(s.a)(e,null,[{key:"save",value:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))}},{key:"load",value:function(e){var t=sessionStorage.getItem(e);return t&&"undefined"!==t?JSON.parse(t):{}}},{key:"delete",value:function(e){sessionStorage.removeItem(e)}},{key:"clear",value:function(){sessionStorage.clear()}},{key:"saveLocal",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"loadLocal",value:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null}}]),e}()},264:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c}));var n=r(158),s=r(159),a=r(170),i=r(248),u=r(362),c=function(){function t(){Object(n.a)(this,t)}return Object(s.a)(t,null,[{key:"uploadRequest",value:function(e,t,r){var n=e.indexOf("http")>=0?e:Object(u.getServiceURL)()+e,s={};s.Authorization="Bearer "+i.a.load("token");var c=new FormData;if(c.append("file",t),r=a.a.filterParams(r)){var o=[];Object.keys(r).forEach((function(e){return o.push(e+"="+encodeURIComponent(r[e]))})),n+="?"+o.join("&")}return new Request(n,{headers:s,method:"POST",body:c})}},{key:"seriesRequest",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a="".concat(Object(u.getServiceURL)()).concat(r);r.includes("http")&&(a=r);var c,o=e.token?e.token:i.a.load("token");if(s["Content-Type"]="application/json;charset=utf-8",s.Authorization="Bearer "+o,"GET"===t||"DELETE"===t){var l=[];Object.keys(n).forEach((function(e){return l.push(e+"="+encodeURIComponent(n[e]))})),l.length>0&&(a+="?"+l.join("&")),c=new Request(a,{method:t,headers:s})}else if("GETF"===t){var f=[];Object.keys(n).forEach((function(e){return f.push(e+"="+encodeURIComponent(n[e]))})),f.length>0&&(a+="?"+f.join("&")),c=new Request(a,{method:"GET",headers:s,credentials:"include"})}else{var b=JSON.stringify(n);"POST"===t?c=new Request(a,{method:"POST",headers:s,body:b}):"PUT"===t?c=new Request(a,{method:"PUT",headers:s,body:b}):"PUTF"===t?c=new Request(a,{method:"PUT",headers:s,credentials:"include",body:b}):"POSTF"===t&&(c=new Request(a,{method:"POST",headers:s,body:b,credentials:"include"}))}return c}}]),t}()}).call(this,r(18))},265:function(e,t,r){"use strict";r(158),r(159)},270:function(e,t){},272:function(e,t){},282:function(e,t){},284:function(e,t){},311:function(e,t){},312:function(e,t){},317:function(e,t){},319:function(e,t){},326:function(e,t){},345:function(e,t){},362:function(e,t,r){var n="";e.exports={getServiceURL:function(){return n}}},366:function(e,t,r){"use strict";var n=r(264),s=(r(194),r(195)),a=r.n(s),i=r(158),u=r(159),c=r(170),o=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"handleRequest",value:function(e,t){return"arrayBuffer"===t?fetch(e):fetch(e).then((function(e){if(e.status>=200&&e.status<=300)return e.json();throw e})).then((function(e){return 200!=e.code&&a.a.info(e.msg,1),e})).catch((function(e){if("TypeError: Failed to fetch"!=e&&"SyntaxError: Unexpected end of JSON input"!=e){var t="\u8bf7\u6c42\u5931\u8d25";return 401===e.status?t="\u6388\u6743\u8ba4\u8bc1\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u9646":500===e.status?t="\u670d\u52a1\u8bf7\u6c42\u5f02\u5e38":403===e.status?t="\u63a5\u53e3\u7981\u6b62\u8bbf\u95ee":404===e.status?t="\u670d\u52a1\u4e0d\u5b58\u5728":e.status>=400&&e.status<500&&(t="\u8bf7\u6c42\u6570\u636e\u683c\u5f0f\u9519\u8bef"),a.a.info(t,1),401===e.status&&setTimeout((function(){var e=location.hash,t=c.a.parseQueryParam(e);location.hash="login?".concat(c.a.seriesQueryParam(t))}),1e3),{code:e.status}}a.a.info("\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\u540e\u5237\u65b0\u91cd\u8bd5",1)}))}}]),e}(),l={login:function(e,t){var r=n.a.seriesRequest("GET","/api/efilm/report/verify/".concat(e),t);return o.handleRequest(r)},fetchMedicalRecords:function(e,t){var r=n.a.seriesRequest("GET","/api/efilm/report/all",t);return o.handleRequest(r)},fetchReportDetail:function(){var e=n.a.seriesRequest("GET","/api/efilm/report");return o.handleRequest(e)},fetchShareCode:function(e,t){var r=n.a.seriesRequest("GET","/api/efilm/share/code",t);return o.handleRequest(r)},fetchReportInfoBySharecode:function(e,t){var r=n.a.seriesRequest("GET","/api/efilm/share/info/".concat(e),t);return o.handleRequest(r)},fetchShareVerification:function(e){var t=n.a.seriesRequest("GET","/api/efilm/share/check/".concat(e));return o.handleRequest(t)},fetchOpenDicomMethod:function(){var e=n.a.seriesRequest("GET","/api/efilm/report/openpath");return o.handleRequest(e)},fetchConfigWithReportUUID:function(e){var t=n.a.seriesRequest("GET","/api/efilm/report/check/report/".concat(e));return o.handleRequest(t)},fetchConfigWidthCode:function(e){var t=n.a.seriesRequest("GET","/api/sys/institution/efilm_config",e);return o.handleRequest(t)},loginWithInstitutionCode:function(e){var t=n.a.seriesRequest("GET","/api/efilm/report/institution/verify",e);return o.handleRequest(t)},loginWithReportUUID:function(e){var t=n.a.seriesRequest("GET","/api/efilm/report/report/verify",e);return o.handleRequest(t)},fetchReportPdf:function(e){var t=n.a.seriesRequest("GET","/api/efilm/report/pdf",e);return o.handleRequest(t)}};t.a=l},75:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"default",(function(){return y}));r(72);var n=r(49),s=r.n(n),a=(r(249),r(252)),i=r.n(a),u=r(365),c=(r(194),r(195)),o=r.n(c),l=r(261),f=r.n(l),b=r(263),d=r(364),h=r(0),p=r(1),v=(r(68),r(366)),m=r(248),g=r(170),j=r(3);function y(e){var t=Object(h.useState)(1==m.a.load("efilmAgreeVisible")),r=Object(d.a)(t,2),n=r[0],a=(r[1],Object(h.useState)(1==m.a.load("efilmAgreeFlag"))),c=Object(d.a)(a,2),l=c[0],y=(c[1],Object(h.useState)(!1)),O=Object(d.a)(y,2),x=O[0],k=O[1],R=Object(h.useState)(!1),_=Object(d.a)(R,2),w=_[0],I=_[1],S=Object(h.useState)({}),C=Object(d.a)(S,2),q=C[0],E=C[1],T=Object(h.useState)({}),N=Object(d.a)(T,2),P=N[0],U=N[1],A=Object(h.useState)(m.a.load("efilmInputDic0")),D=Object(d.a)(A,2),G=D[0],F=D[1],L=Object(h.useState)([]),J=Object(d.a)(L,2),M=J[0],V=J[1],Q=Object(h.useState)(""),W=Object(d.a)(Q,2),B=W[0],X=W[1],$=Object(p.f)(),z=g.a.parseQueryParam(location.hash),Y=Object(h.useRef)(l),H=Object(h.useRef)(n),K=z.institution_code,Z=void 0===K?"":K,ee=z.report_uuid,te=void 0===ee?"":ee,re=z.share_code;Object(h.useEffect)((function(){document.title="\u6570\u5b57\u80f6\u7247\u8eab\u4efd\u6838\u9a8c"}),[]),Object(h.useEffect)((function(){Y.current=l}),[l]),Object(h.useEffect)((function(){H.current=n}),[n]),Object(h.useEffect)((function(){if(!g.a.isEmptyObj(q)&&B){var e=q.efilm_config,t=(void 0===e?{}:e).verify_way,r=void 0===t?{}:t,n=m.a.load("efilmInputDic".concat(B)),s=r[B],a={};Object.keys(s).forEach((function(e){a[e]=n[e]?n[e]:""})),F(a)}}),[B,q]),Object(h.useEffect)(Object(b.a)(f.a.mark((function e(){var t,r,n,s,a,i,u,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!Z){e.next=7;break}return e.next=4,v.a.fetchConfigWidthCode({institution_code:Z});case 4:t=e.sent,e.next=28;break;case 7:if(!te){e.next=13;break}return e.next=10,v.a.fetchConfigWithReportUUID(te);case 10:t=e.sent,e.next=28;break;case 13:if(!re){e.next=28;break}return e.next=16,v.a.fetchShareVerification(re);case 16:if(200!==(t=e.sent).code){e.next=25;break}if(1==t.data.need_verify){e.next=21;break}return ne(),e.abrupt("return");case 21:F({verify_code:""}),E(t.data),e.next=26;break;case 25:U({message:t.msg?t.msg:"\u5f53\u524d\u62a5\u544a\u4e0d\u5b58\u5728\u6216\u5206\u4eab\u7801\u5df2\u5931\u6548"});case 26:return I(!0),e.abrupt("return");case 28:if(200!=t.code){e.next=41;break}if(r=t.data.efilm_config,s=(n=void 0===r?{}:r).verify_way,a=void 0===s?{}:s,i=n.report_show,void 0===i?"":i,0!=n.is_turn_efilm){e.next=34;break}return U({message:t.msg?t.msg:"\u6570\u5b57\u80f6\u7247\u670d\u52a1\u672a\u5f00\u542f"}),e.abrupt("return");case 34:u=Object.keys(a).sort((function(e,t){return e-t})),c=sessionStorage.getItem("selectedVerifyWay"),X(c||u[0]),V(u),E(t.data),e.next=42;break;case 41:U({message:t.msg?t.msg:"\u62a5\u544a\u4e0d\u5b58\u5728\uff0c\u8bf7\u6838\u5bf9\u9a8c\u8bc1\u4fe1\u606f"});case 42:I(!0);case 43:case"end":return e.stop()}}),e)}))),[]);var ne=function(){k(!0);var e=G.verify_code;v.a.fetchReportInfoBySharecode(re,{verify_code:e}).then((function(e){if(k(!1),200==e.code){var t={is_anony:e.data.is_anony,is_show_history:e.data.is_show_history,share_code:re};m.a.save("shareData",t),m.a.save("token",e.data.token),$.push("/report?report_uuid=".concat(e.data.report_uuid))}else o.a.info("\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",1)}))},se=function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="http://58.213.167.22:8087/pdf-report/ff07c05b-682d-44be-b256-bfe1f1d04c5c@NJMJYY631@2969405.pdf";case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(e){ie();var t=location.hash,r=g.a.parseQueryParam(t);location.hash="agree?type=".concat(e,"&").concat(g.a.seriesQueryParam(r))},ie=function(){m.a.save("efilmInputDic".concat(B),G),m.a.save("efilmAgreeFlag",Y.current?"1":"0"),m.a.save("efilmAgreeVisible",H.current?"1":"0"),sessionStorage.setItem("selectedVerifyWay",B)},ue=function(){ie();var e=q.efilm_config,t=void 0===e?{}:e,r=t.tips_image_uid,n=t.page_image_uid,s=function(e,t){t?m.a.save(e,t):m.a.delete(e)};s("tips_image_uid",r),s("page_image_uid",n);var a=location.hash,i=g.a.parseQueryParam(a);location.hash="help?".concat(g.a.seriesQueryParam(i))},ce=function(){var e=!1,t=Object.keys(G);console.log("########",G);for(var r=0;r<t.length;r++){var n=t[r],s=G[n];if(!s||0==s.length){e=!0;break}}return e},oe=function(){var e=function(){var e=q.efilm_config,t=(void 0===e?{}:e).is_enable_user_notice;return void 0!==t&&t}();return Object(j.jsx)("div",{className:"protocol_view",style:{display:"flex"},children:e?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{style:{marginLeft:5},children:[Object(j.jsx)("span",{className:"normal",children:"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f"}),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"blue",onClick:function(){ae(0)},children:"\u300a\u533b\u6735\u4e91\u5f71\u50cf\u6570\u5b57\u80f6\u7247\u7528\u6237\u534f\u8bae\u300b"}),Object(j.jsx)("span",{className:"normal",children:"\u548c"}),Object(j.jsx)("span",{className:"blue",onClick:function(){ae(1)},children:"\u300a\u9690\u79c1\u6743\u534f\u8bae\u300b"})]})]})}):null})},le=function(e){var t={display:"flex",flexDirection:"column"};return re?Object(j.jsx)("div",{style:t,children:Object(j.jsx)("input",{placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",maxLength:6,type:"tel",pattern:"[0-9]*",value:G.verify_code||"",onChange:function(e){var t=e.target.value;G.verify_code=t,F(Object(u.a)({},G))}})}):Object.keys(e||{}).map((function(r){var n=e[r],s=n.length>0?n.length:"patient_phone"==r?11:20,a="\u8bf7\u8f93\u5165".concat(n.value).concat(n.length>0?1==n.length?"\u6700\u540e\u4e00\u4e2a\u5b57":"\u540e".concat(n.length,"\u4f4d"):"");return Object(j.jsx)("div",{style:t,children:Object(j.jsx)("input",{placeholder:a,maxLength:s,type:"patient_phone"==r?"tel":"text",pattern:"patient_phone"==r?"[0-9]*":"",value:G[r]||"",onChange:function(e){var t=e.target.value;G[r]=t,F(Object(u.a)({},G))}})},n.value)}))};return Object(j.jsx)(j.Fragment,{children:w?P.url?Object(j.jsx)("div",{className:"report_container",children:Object(j.jsxs)("div",{className:"expire_view",children:[Object(j.jsx)("i",{className:"icon-empty",style:{backgroundImage:"url(".concat(P.url,")")}}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"column",textAlign:"center"},children:Object(j.jsx)("div",{children:P.message})})]})}):function(){var e=q.efilm_config,t=void 0===e?{}:e,r=q.name;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"efilm_container login_container",onClick:function(e){e.stopPropagation()},style:{padding:0},children:[Object(j.jsxs)("div",{className:"header_view",children:[Object(j.jsx)("div",{className:"hospital"}),Object(j.jsx)("div",{className:"title",children:r})]}),Object(j.jsxs)("div",{className:"login_box",children:[M.length>1?Object(j.jsx)("div",{className:"login_type_view",children:M.map((function(e,r){var n=t.verify_way[e],s=Object.keys(n).map((function(e){return n[e]})).find((function(e){return 0==e.sort}));return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:B==e?"selected":"",onClick:function(){m.a.save("efilmInputDic".concat(B),G),X(e)},children:s.value})},"".concat(e).concat(r))}))}):null,le(t.verify_way[B]),Object(j.jsx)(i.a,{className:"validate_btn",disabled:ce(),loading:x,onClick:se,style:{margin:"0"},children:"\u9a8c\u8bc1"})]}),oe(),re?null:Object(j.jsxs)("div",{className:"question_view",onClick:ue,children:[Object(j.jsx)("div",{className:"question"}),Object(j.jsx)("div",{children:"\u67e5\u770b\u5e2e\u52a9"})]})]})})}():Object(j.jsx)("div",{className:"loading_view",children:Object(j.jsx)(s.a,{text:"\u6b63\u5728\u52a0\u8f7d..."})})})}}.call(this,r(18))}}]);