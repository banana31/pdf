(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{170:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return c}));var s=r(158),n=r(159),u=(r(265),r(266)),a=r.n(u),i=r(361),o=r.n(i),c=function(){function e(){Object(s.a)(this,e)}return Object(n.a)(e,null,[{key:"getSexText",value:function(t){return"F"===t?"\u5973":"M"===t?"\u7537":"\u5176\u4ed6"}},{key:"isLoged",value:function(){return t.token&&t.token.length>0}},{key:"isValidMobile",value:function(t){return!!/^((\+)?86|((\+)?86)?)0?1[0-9]\d{9}$/.test(t)}},{key:"isEmptyObj",value:function(t){return void 0==t||("string"===typeof t&&0==t.length||"object"===typeof t&&0==Object.keys(t).length)}},{key:"drawCanvas",value:function(t){var e=window.getComputedStyle(t),r=parseInt(e.width,10),s=parseInt(e.height,10),n=1;window.devicePixelRatio&&window.devicePixelRatio>1&&(n=window.devicePixelRatio);var u=n,a=document.createElement("canvas");return a.width=r*u,a.height=s*u,a.style.width="".concat(r,"px"),a.style.height="".concat(s,"px"),a.getContext("2d").scale(u,u),o()(t,{allowTaint:!0,width:r,height:s,useCORS:!0}).then((function(t){return t.toDataURL("image/png")}))}},{key:"safeValueForkey",value:function(t,e,r){return t&&t[e]?t[e]:r}},{key:"encodeBase64",value:function(t){var e,r,s,n,u,a,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",f=0;for(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",r=0;r<t.length;r++){var s=t.charCodeAt(r);s<128?e+=String.fromCharCode(s):s>127&&s<2048?(e+=String.fromCharCode(s>>6|192),e+=String.fromCharCode(63&s|128)):(e+=String.fromCharCode(s>>12|224),e+=String.fromCharCode(s>>6&63|128),e+=String.fromCharCode(63&s|128))}return e}(t);f<t.length;)n=(e=t.charCodeAt(f++))>>2,u=(3&e)<<4|(r=t.charCodeAt(f++))>>4,a=(15&r)<<2|(s=t.charCodeAt(f++))>>6,i=63&s,isNaN(r)?a=i=64:isNaN(s)&&(i=64),c=c+o.charAt(n)+o.charAt(u)+o.charAt(a)+o.charAt(i);return c}},{key:"uuid",value:function(){for(var t=[],e="0123456789abcdef",r=0;r<36;r++)t[r]=e.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-";var s=t.join("")+(new Date).getTime();return s}},{key:"parseQueryParam",value:function(t){var e={};if(!t||"string"!=typeof t)return e;var r=t.split("?");return r.length<2||r[1].split("&").forEach((function(t){var r=t.split("=")[0],s=decodeURIComponent(t.split("=")[1]);e[r]=s})),e}},{key:"seriesQueryParam",value:function(t){var e="";if(t){var r=[];Object.keys(t).forEach((function(e){t[e]&&r.push(e+"="+encodeURIComponent(t[e]))})),e=r.join("&")}return e}},{key:"md5String",value:function(t){return a.a.MD5(t).toString()}},{key:"isValidCodeValid",value:function(t){var e,r=new Array({pass:!0,tip:""},{pass:!1,tip:"\u8eab\u4efd\u8bc1\u53f7\u7801\u4f4d\u6570\u4e0d\u5bf9\uff01"},{pass:!1,tip:"\u8eab\u4efd\u8bc1\u53f7\u7801\u51fa\u751f\u65e5\u671f\u8d85\u51fa\u8303\u56f4\u6216\u542b\u6709\u975e\u6cd5\u5b57\u7b26\uff01"},{pass:!1,tip:"\u8eab\u4efd\u8bc1\u53f7\u7801\u6821\u9a8c\u9519\u8bef\uff01"},{pass:!1,tip:"\u8eab\u4efd\u8bc1\u53f7\u7801\u4e2d\u5730\u533a\u7f16\u7801\u4e0d\u6b63\u786e\uff01"}),s=new Array;if(s=t.split(""),15!=t.length&&18!=t.length)return r[1];if("000000"==t.substr(0,6)||"111111"==t.substr(0,6)||"222222"==t.substr(0,6)||"333333"==t.substr(0,6)||"444444"==t.substr(0,6)||"555555"==t.substr(0,6)||"666666"==t.substr(0,6)||"777777"==t.substr(0,6)||"888888"==t.substr(0,6)||"999999"==t.substr(0,6))return r[4];if("123456"==t.substr(0,6)||"234567"==t.substr(0,6)||"345678"==t.substr(0,6)||"456789"==t.substr(0,6)||"567890"==t.substr(0,6)||"012345"==t.substr(0,6)||"543210"==t.substr(0,6)||"432109"==t.substr(0,6)||"321098"==t.substr(0,6)||"210987"==t.substr(0,6)||"109876"==t.substr(0,6)||"098765"==t.substr(0,6)||"987654"==t.substr(0,6)||"876543"==t.substr(0,6)||"765432"==t.substr(0,6))return r[4];if("121212"==t.substr(0,6)||"131313"==t.substr(0,6)||"141414"==t.substr(0,6)||"151515"==t.substr(0,6)||"161616"==t.substr(0,6)||"171717"==t.substr(0,6)||"181818"==t.substr(0,6)||"191919"==t.substr(0,6)||"101010"==t.substr(0,6))return r[4];if("212121"==t.substr(0,6)||"232323"==t.substr(0,6)||"242424"==t.substr(0,6)||"252525"==t.substr(0,6)||"262626"==t.substr(0,6)||"272727"==t.substr(0,6)||"282828"==t.substr(0,6)||"292929"==t.substr(0,6)||"202020"==t.substr(0,6))return r[4];if("313131"==t.substr(0,6)||"323232"==t.substr(0,6)||"343434"==t.substr(0,6)||"353535"==t.substr(0,6)||"363636"==t.substr(0,6)||"373737"==t.substr(0,6)||"383838"==t.substr(0,6)||"393939"==t.substr(0,6)||"303030"==t.substr(0,6))return r[4];if("414141"==t.substr(0,6)||"424242"==t.substr(0,6)||"434343"==t.substr(0,6)||"454545"==t.substr(0,6)||"464646"==t.substr(0,6)||"474747"==t.substr(0,6)||"484848"==t.substr(0,6)||"494949"==t.substr(0,6)||"404040"==t.substr(0,6))return r[4];if("515151"==t.substr(0,6)||"525252"==t.substr(0,6)||"535353"==t.substr(0,6)||"545454"==t.substr(0,6)||"565656"==t.substr(0,6)||"575757"==t.substr(0,6)||"585858"==t.substr(0,6)||"595959"==t.substr(0,6)||"505050"==t.substr(0,6))return r[4];if("616161"==t.substr(0,6)||"626262"==t.substr(0,6)||"636363"==t.substr(0,6)||"646464"==t.substr(0,6)||"656565"==t.substr(0,6)||"676767"==t.substr(0,6)||"686868"==t.substr(0,6)||"696969"==t.substr(0,6)||"606060"==t.substr(0,6))return r[4];if("717171"==t.substr(0,6)||"727272"==t.substr(0,6)||"737373"==t.substr(0,6)||"747474"==t.substr(0,6)||"757575"==t.substr(0,6)||"767676"==t.substr(0,6)||"787878"==t.substr(0,6)||"797979"==t.substr(0,6)||"707070"==t.substr(0,6))return r[4];if("818181"==t.substr(0,6)||"828282"==t.substr(0,6)||"838383"==t.substr(0,6)||"848484"==t.substr(0,6)||"858585"==t.substr(0,6)||"868686"==t.substr(0,6)||"878787"==t.substr(0,6)||"898989"==t.substr(0,6)||"808080"==t.substr(0,6))return r[4];if("919191"==t.substr(0,6)||"929292"==t.substr(0,6)||"939393"==t.substr(0,6)||"949494"==t.substr(0,6)||"959595"==t.substr(0,6)||"969696"==t.substr(0,6)||"979797"==t.substr(0,6)||"989898"==t.substr(0,6)||"909090"==t.substr(0,6))return r[4];if(null=={11:"\u5317\u4eac",12:"\u5929\u6d25",13:"\u6cb3\u5317",14:"\u5c71\u897f",15:"\u5185\u8499\u53e4",21:"\u8fbd\u5b81",22:"\u5409\u6797",23:"\u9ed1\u9f99\u6c5f",31:"\u4e0a\u6d77",32:"\u6c5f\u82cf",33:"\u6d59\u6c5f",34:"\u5b89\u5fbd",35:"\u798f\u5efa",36:"\u6c5f\u897f",37:"\u5c71\u4e1c",41:"\u6cb3\u5357",42:"\u6e56\u5317",43:"\u6e56\u5357",44:"\u5e7f\u4e1c",45:"\u5e7f\u897f",46:"\u6d77\u5357",50:"\u91cd\u5e86",51:"\u56db\u5ddd",52:"\u8d35\u5dde",53:"\u4e91\u5357",54:"\u897f\u85cf",61:"\u9655\u897f",62:"\u7518\u8083",63:"\u9752\u6d77",64:"\u5b81\u590f",65:"\u65b0\u7586",71:"\u53f0\u6e7e",81:"\u9999\u6e2f",82:"\u6fb3\u95e8",91:"\u56fd\u5916"}[parseInt(t.substr(0,2))])return r[4];switch(t.length){case 15:return((parseInt(t.substr(6,2))+1900)%4==0||(parseInt(t.substr(6,2))+1900)%100==0&&(parseInt(t.substr(6,2))+1900)%4==0?/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/:/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/).test(t)?r[0]:r[2];case 18:return(parseInt(t.substr(6,4))%4==0||parseInt(t.substr(6,4))%100==0&&parseInt(t.substr(6,4))%4==0?/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/:/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/).test(t)?(e=7*(parseInt(s[0])+parseInt(s[10]))+9*(parseInt(s[1])+parseInt(s[11]))+10*(parseInt(s[2])+parseInt(s[12]))+5*(parseInt(s[3])+parseInt(s[13]))+8*(parseInt(s[4])+parseInt(s[14]))+4*(parseInt(s[5])+parseInt(s[15]))+2*(parseInt(s[6])+parseInt(s[16]))+1*parseInt(s[7])+6*parseInt(s[8])+3*parseInt(s[9]),"F","10X98765432","10X98765432".substr(e%11,1)==s[17]?r[0]:r[3]):r[2];default:return r[1]}}}]),e}();c.filterParams=function(t){for(var e in t)(!t[e]&&0!==t[e]||""===t[e].toString().replace(/(^\s*)|(\s*$)/g,""))&&delete t[e];return t},c.isWeiXin=function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}}).call(this,r(18))},248:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var s=r(158),n=r(159),u=function(){function t(){Object(s.a)(this,t)}return Object(n.a)(t,null,[{key:"save",value:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))}},{key:"load",value:function(t){var e=sessionStorage.getItem(t);return e&&"undefined"!==e?JSON.parse(e):{}}},{key:"delete",value:function(t){sessionStorage.removeItem(t)}},{key:"clear",value:function(){sessionStorage.clear()}},{key:"saveLocal",value:function(t,e){localStorage.setItem(t,JSON.stringify(e))}},{key:"loadLocal",value:function(t){var e=localStorage.getItem(t);return e?JSON.parse(e):null}}]),t}()},264:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return o}));var s=r(158),n=r(159),u=r(170),a=r(248),i=r(362),o=function(){function e(){Object(s.a)(this,e)}return Object(n.a)(e,null,[{key:"uploadRequest",value:function(t,e,r){var s=t.indexOf("http")>=0?t:Object(i.getServiceURL)()+t,n={};n.Authorization="Bearer "+a.a.load("token");var o=new FormData;if(o.append("file",e),r=u.a.filterParams(r)){var c=[];Object.keys(r).forEach((function(t){return c.push(t+"="+encodeURIComponent(r[t]))})),s+="?"+c.join("&")}return new Request(s,{headers:n,method:"POST",body:o})}},{key:"seriesRequest",value:function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u="".concat(Object(i.getServiceURL)()).concat(r);r.includes("http")&&(u=r);var o,c=t.token?t.token:a.a.load("token");if(n["Content-Type"]="application/json;charset=utf-8",n.Authorization="Bearer "+c,"GET"===e||"DELETE"===e){var f=[];Object.keys(s).forEach((function(t){return f.push(t+"="+encodeURIComponent(s[t]))})),f.length>0&&(u+="?"+f.join("&")),o=new Request(u,{method:e,headers:n})}else if("GETF"===e){var b=[];Object.keys(s).forEach((function(t){return b.push(t+"="+encodeURIComponent(s[t]))})),b.length>0&&(u+="?"+b.join("&")),o=new Request(u,{method:"GET",headers:n,credentials:"include"})}else{var l=JSON.stringify(s);"POST"===e?o=new Request(u,{method:"POST",headers:n,body:l}):"PUT"===e?o=new Request(u,{method:"PUT",headers:n,body:l}):"PUTF"===e?o=new Request(u,{method:"PUT",headers:n,credentials:"include",body:l}):"POSTF"===e&&(o=new Request(u,{method:"POST",headers:n,body:l,credentials:"include"}))}return o}}]),e}()}).call(this,r(18))},265:function(t,e,r){"use strict";r(158),r(159)},270:function(t,e){},272:function(t,e){},282:function(t,e){},284:function(t,e){},311:function(t,e){},312:function(t,e){},317:function(t,e){},319:function(t,e){},326:function(t,e){},345:function(t,e){},362:function(t,e,r){var s="";t.exports={getServiceURL:function(){return s}}},366:function(t,e,r){"use strict";var s=r(264),n=(r(194),r(195)),u=r.n(n),a=r(158),i=r(159),o=r(170),c=function(){function t(){Object(a.a)(this,t)}return Object(i.a)(t,null,[{key:"handleRequest",value:function(t,e){return"arrayBuffer"===e?fetch(t):fetch(t).then((function(t){if(t.status>=200&&t.status<=300)return t.json();throw t})).then((function(t){return 200!=t.code&&u.a.info(t.msg,1),t})).catch((function(t){if("TypeError: Failed to fetch"!=t&&"SyntaxError: Unexpected end of JSON input"!=t){var e="\u8bf7\u6c42\u5931\u8d25";return 401===t.status?e="\u6388\u6743\u8ba4\u8bc1\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u9646":500===t.status?e="\u670d\u52a1\u8bf7\u6c42\u5f02\u5e38":403===t.status?e="\u63a5\u53e3\u7981\u6b62\u8bbf\u95ee":404===t.status?e="\u670d\u52a1\u4e0d\u5b58\u5728":t.status>=400&&t.status<500&&(e="\u8bf7\u6c42\u6570\u636e\u683c\u5f0f\u9519\u8bef"),u.a.info(e,1),401===t.status&&setTimeout((function(){var t=location.hash,e=o.a.parseQueryParam(t);location.hash="login?".concat(o.a.seriesQueryParam(e))}),1e3),{code:t.status}}u.a.info("\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\u540e\u5237\u65b0\u91cd\u8bd5",1)}))}}]),t}(),f={login:function(t,e){var r=s.a.seriesRequest("GET","/api/efilm/report/verify/".concat(t),e);return c.handleRequest(r)},fetchMedicalRecords:function(t,e){var r=s.a.seriesRequest("GET","/api/efilm/report/all",e);return c.handleRequest(r)},fetchReportDetail:function(){var t=s.a.seriesRequest("GET","/api/efilm/report");return c.handleRequest(t)},fetchShareCode:function(t,e){var r=s.a.seriesRequest("GET","/api/efilm/share/code",e);return c.handleRequest(r)},fetchReportInfoBySharecode:function(t,e){var r=s.a.seriesRequest("GET","/api/efilm/share/info/".concat(t),e);return c.handleRequest(r)},fetchShareVerification:function(t){var e=s.a.seriesRequest("GET","/api/efilm/share/check/".concat(t));return c.handleRequest(e)},fetchOpenDicomMethod:function(){var t=s.a.seriesRequest("GET","/api/efilm/report/openpath");return c.handleRequest(t)},fetchConfigWithReportUUID:function(t){var e=s.a.seriesRequest("GET","/api/efilm/report/check/report/".concat(t));return c.handleRequest(e)},fetchConfigWidthCode:function(t){var e=s.a.seriesRequest("GET","/api/sys/institution/efilm_config",t);return c.handleRequest(e)},loginWithInstitutionCode:function(t){var e=s.a.seriesRequest("GET","/api/efilm/report/institution/verify",t);return c.handleRequest(e)},loginWithReportUUID:function(t){var e=s.a.seriesRequest("GET","/api/efilm/report/report/verify",t);return c.handleRequest(e)},fetchReportPdf:function(t){var e=s.a.seriesRequest("GET","/api/efilm/report/pdf",t);return c.handleRequest(e)}};e.a=f},75:function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"default",(function(){return d}));r(72),r(49),r(249);var s=r(252),n=r.n(s),u=(r(365),r(258)),a=r.n(u),i=r(260),o=(r(194),r(195),r(364)),c=r(0),f=r(1),b=(r(68),r(366),r(248)),l=r(170),h=r(3);function d(t){var e=Object(c.useState)(1==b.a.load("efilmAgreeVisible")),r=Object(o.a)(e,2),s=r[0],u=(r[1],Object(c.useState)(1==b.a.load("efilmAgreeFlag"))),d=Object(o.a)(u,2),p=d[0],v=(d[1],Object(c.useState)(!1)),m=Object(o.a)(v,2),g=m[0],y=(m[1],Object(c.useState)(!1)),O=Object(o.a)(y,2),R=(O[0],O[1],Object(c.useState)({})),j=Object(o.a)(R,2),S=j[0],I=(j[1],Object(c.useState)({})),k=Object(o.a)(I,2),w=(k[0],k[1],Object(c.useState)(b.a.load("efilmInputDic0"))),q=Object(o.a)(w,2),C=(q[0],q[1]),E=Object(c.useState)([]),T=Object(o.a)(E,2),P=(T[0],T[1],Object(c.useState)("")),U=Object(o.a)(P,2),x=U[0],A=(U[1],Object(f.f)(),l.a.parseQueryParam(location.hash)),G=Object(c.useRef)(p),N=Object(c.useRef)(s);A.institution_code,A.report_uuid,A.share_code;Object(c.useEffect)((function(){document.title="\u6570\u5b57\u80f6\u7247\u8eab\u4efd\u6838\u9a8c"}),[]),Object(c.useEffect)((function(){G.current=p}),[p]),Object(c.useEffect)((function(){N.current=s}),[s]),Object(c.useEffect)((function(){if(!l.a.isEmptyObj(S)&&x){var t=S.efilm_config,e=(void 0===t?{}:t).verify_way,r=void 0===e?{}:e,s=b.a.load("efilmInputDic".concat(x)),n=r[x],u={};Object.keys(n).forEach((function(t){u[t]=s[t]?s[t]:""})),C(u)}}),[x,S]);var D=function(){var t=Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.location.href="http://58.213.167.22:8087/pdf-report/ff07c05b-682d-44be-b256-bfe1f1d04c5c@NJMJYY631@2969405.pdf";case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsx)(n.a,{className:"validate_btn",loading:g,onClick:D,style:{margin:"0"},children:"\u9a8c\u8bc1"})}}.call(this,r(18))}}]);